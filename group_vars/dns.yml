cloudflare_zone: "d5e.dev"
homelab_ip: "172.30.30.10" # Your main Reverse Proxy or Gateway, in a different vlan ?

dns_records:
  - { name: "@", type: "A", target: "1.2.3.4" }              # Root domain
  - { name: "*", type: "CNAME", target: "d5e.dev." }         # Wildcard for services
  - { name: "pve-01", type: "A", target: "192.168.1.5" }    # Internal IP
  - { name: "pve-02", type: "A", target: "192.168.1.5" }    # Internal IP

# --- Domain & Provider Info ---
domain: "d5e.dev"
tunnel_uuid: "your-tunnel-uuid-here" # Found in Cloudflare Dashboard

# --- Proxmox Connection ---
pve_node: "pve-01"
pve_api_host: "192.168.1.10"
pve_api_user: "ansible@pve"

# --- Internal Infrastructure IPs ---
adguard_ip: "192.168.1.2"
caddy_ip: "192.168.1.10" # Your Caddy Reverse Proxy

# --- 1Password Secret Mappings ---
# These assume the item titles in 1Password match exactly
proxmox_token: "{{ lookup('community.general.onepassword', 'Proxmox API', field='password') }}"
cloudflare_token: "{{ lookup('community.general.onepassword', 'Cloudflare API', field='password') }}"
tunnel_token: "{{ lookup('community.general.onepassword', 'Cloudflare Tunnel Token', field='password') }}"
adguard_password: "{{ lookup('community.general.onepassword', 'AdGuard Admin', field='password') }}"

my_services:
  - { subdomain: "books", ip: "192.168.1.200", port: 8083 }
  - { subdomain: "plex", ip: "192.168.1.210", port: 32400 }
  
# Global Domain & DNS
base_domain: "d5e.dev
cloudflare_token: "YOUR_CLOUDFLARE_API_TOKEN"

# Reverse Proxy Map
proxied_services:
  - { subdomain: "books", ip: "192.168.1.200", port: 8083 }
  - { subdomain: "plex", ip: "192.168.1.210", port: 32400 }
  - { subdomain: "pve-01", ip: "192.168.1.100", port: 8006, proto: "https" }
  - { subdomain: "pve-02", ip: "192.168.1.101", port: 8006, proto: "https" }